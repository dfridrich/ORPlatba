<?php

use Defr\QRPlatba\QRPlatba;
use PHPUnit\Framework\TestCase;

class QRPlatbaUriTest extends TestCase
{
    public function create($accountNumber, $variableSymbol, $message, $amount)
    {
        $qrPayment = new QRPlatba();

        $qrPayment->setAccount($accountNumber)
            ->setVariableSymbol($variableSymbol)
            ->setMessage($message)
            ->setAmount($amount);

        return $qrPayment->getDataUri();
    }

    public function testDataUriRaiffeisenBank()
    {
        $uri = $this->create('973789052/5500', '200000408', 'Test', 1500);
        $this->assertEquals(
            'data:image/png;base64,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',
            $uri
        );
    }

    public function testDataUriKB()
    {
        $uri = $this->create('115-214740207/0100', '200000408', 'Test', 1500);
        $this->assertEquals(
            'data:image/png;base64,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',
            $uri
        );
    }

    public function testDataUriFio()
    {
        $uri = $this->create('2100199001/2010', '200000408', 'Test', 1500);
        $this->assertEquals(
            'data:image/png;base64,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',
            $uri
        );
    }
}
